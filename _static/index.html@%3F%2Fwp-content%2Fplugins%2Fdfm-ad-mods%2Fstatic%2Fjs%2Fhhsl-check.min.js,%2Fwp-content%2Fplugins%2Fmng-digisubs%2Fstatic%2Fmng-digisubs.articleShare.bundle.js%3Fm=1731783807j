({initialize:function(){this.initializeHsslCheck()},debug:function(){var e=!1;return e="undefined"!=typeof DFM_AD_MODS_DEBUG?!0:e},checkForBangPremiumOffer:function(){var o,n,i=window.blueConicClient.profile.getProfile(),e=(this.debug()&&console.log("DEBUG: blueconic profile = "+i),["bang_accept_premium_offer","bang_accept_premium_offer_date"]);this.debug()&&console.log("DEBUG: blueconic premium offer properties = "+e),i.loadValues(e,this,function(){var e;o=i.getValue("bang_accept_premium_offer"),n=i.getValue("bang_accept_premium_offer_date"),"yes"===o&&0<n.length&&(e=new Date(n),!1==432e6<new Date-e?localStorage.setItem("hhsl","access"):localStorage.removeItem("hhsl"))})},initializeHsslCheck:function(){this.debug()&&console.log("DEBUG: initializeHsslCheck success");var n,i=!1,l=this;"undefined"!=typeof DFM_AD_MODS_LEVEL&&(n=parseInt(DFM_AD_MODS_LEVEL[0])),this.debug()&&console.log("DEBUG: hhslFromOptions "+n),document.addEventListener("onLoginSuccess",function(e){i=!0,l.debug()&&console.log("DEBUG: onLoginSuccess is true")}),void 0!==window.blueConicClient&&void 0!==window.blueConicClient.event&&void 0!==window.blueConicClient.event.subscribe?(l.debug()&&console.log("DEBUG: blueconic detected and not undefined; running checkForBangPremiumOffer"),l.checkForBangPremiumOffer()):(l.debug()&&console.log("DEBUG: blueconic not loaded, adding event listener"),window.addEventListener("onBlueConicLoaded",function(){l.checkForBangPremiumOffer()},!1)),document.addEventListener("onHasAccess",function(e){l.debug()&&console.log("DEBUG: onHasAccess event listener hit");var o=[],e=(void 0!==n&&o.push(n),l.debug()&&console.log("DEBUG: hhsl level is "+o),e.detail.MG2AccountData.DigitalAccess.Subscription.HouseHoldSubscriptionLevel);l.debug()&&console.log("DEBUG: hhsl level is "+e),o=!(void 0===e||!o.includes(e)),l.debug()&&console.log("DEBUG: hhslAccess "+o),!0===o?(localStorage.setItem("hhsl","access"),l.debug()&&console.log("DEBUG: setting localStorage item for hhsl")):(localStorage.removeItem("hhsl"),l.debug()&&console.log("DEBUG: removing localStorage item for hhsl")),i&&!0===o&&window.location.reload()})}}).initialize();;
(()=>{var t={7757:(t,e,n)=>{t.exports=n(5666)},9669:(t,e,n)=>{t.exports=n(1609)},5448:(t,e,n)=>{"use strict";var r=n(4867),i=n(6026),a=n(4372),o=n(5327),s=n(4097),c=n(4109),u=n(7985),l=n(5061),d=n(5655),h=n(5263);t.exports=function(t){return new Promise((function(e,n){var A,f=t.data,p=t.headers,E=t.responseType;function N(){t.cancelToken&&t.cancelToken.unsubscribe(A),t.signal&&t.signal.removeEventListener("abort",A)}r.isFormData(f)&&delete p["Content-Type"];var S=new XMLHttpRequest;if(t.auth){var I=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";p.Authorization="Basic "+btoa(I+":"+g)}var O=s(t.baseURL,t.url);function R(){if(S){var r="getAllResponseHeaders"in S?c(S.getAllResponseHeaders()):null,a={data:E&&"text"!==E&&"json"!==E?S.response:S.responseText,status:S.status,statusText:S.statusText,headers:r,config:t,request:S};i((function(t){e(t),N()}),(function(t){n(t),N()}),a),S=null}}if(S.open(t.method.toUpperCase(),o(O,t.params,t.paramsSerializer),!0),S.timeout=t.timeout,"onloadend"in S?S.onloadend=R:S.onreadystatechange=function(){S&&4===S.readyState&&(0!==S.status||S.responseURL&&0===S.responseURL.indexOf("file:"))&&setTimeout(R)},S.onabort=function(){S&&(n(l("Request aborted",t,"ECONNABORTED",S)),S=null)},S.onerror=function(){n(l("Network Error",t,null,S)),S=null},S.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",r=t.transitional||d.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n(l(e,t,r.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",S)),S=null},r.isStandardBrowserEnv()){var T=(t.withCredentials||u(O))&&t.xsrfCookieName?a.read(t.xsrfCookieName):void 0;T&&(p[t.xsrfHeaderName]=T)}"setRequestHeader"in S&&r.forEach(p,(function(t,e){void 0===f&&"content-type"===e.toLowerCase()?delete p[e]:S.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(S.withCredentials=!!t.withCredentials),E&&"json"!==E&&(S.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&S.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&S.upload&&S.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(A=function(t){S&&(n(!t||t&&t.type?new h("canceled"):t),S.abort(),S=null)},t.cancelToken&&t.cancelToken.subscribe(A),t.signal&&(t.signal.aborted?A():t.signal.addEventListener("abort",A))),f||(f=null),S.send(f)}))}},1609:(t,e,n)=>{"use strict";var r=n(4867),i=n(1849),a=n(321),o=n(7185);var s=function t(e){var n=new a(e),s=i(a.prototype.request,n);return r.extend(s,a.prototype,n),r.extend(s,n),s.create=function(n){return t(o(e,n))},s}(n(5655));s.Axios=a,s.Cancel=n(5263),s.CancelToken=n(4972),s.isCancel=n(6502),s.VERSION=n(7288).version,s.all=function(t){return Promise.all(t)},s.spread=n(8713),s.isAxiosError=n(6268),t.exports=s,t.exports.default=s},5263:t=>{"use strict";function e(t){this.message=t}e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,t.exports=e},4972:(t,e,n)=>{"use strict";var r=n(5263);function i(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;this.promise.then((function(t){if(n._listeners){var e,r=n._listeners.length;for(e=0;e<r;e++)n._listeners[e](t);n._listeners=null}})),this.promise.then=function(t){var e,r=new Promise((function(t){n.subscribe(t),e=t})).then(t);return r.cancel=function(){n.unsubscribe(e)},r},t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},i.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},i.source=function(){var t;return{token:new i((function(e){t=e})),cancel:t}},t.exports=i},6502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,n)=>{"use strict";var r=n(4867),i=n(5327),a=n(782),o=n(3572),s=n(7185),c=n(4875),u=c.validators;function l(t){this.defaults=t,this.interceptors={request:new a,response:new a}}l.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=s(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&c.assertOptions(e,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(r=r&&e.synchronous,n.unshift(e.fulfilled,e.rejected))}));var i,a=[];if(this.interceptors.response.forEach((function(t){a.push(t.fulfilled,t.rejected)})),!r){var l=[o,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(a),i=Promise.resolve(t);l.length;)i=i.then(l.shift(),l.shift());return i}for(var d=t;n.length;){var h=n.shift(),A=n.shift();try{d=h(d)}catch(t){A(t);break}}try{i=o(d)}catch(t){return Promise.reject(t)}for(;a.length;)i=i.then(a.shift(),a.shift());return i},l.prototype.getUri=function(t){return t=s(this.defaults,t),i(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,n){return this.request(s(n||{},{method:t,url:e,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(t){l.prototype[t]=function(e,n,r){return this.request(s(r||{},{method:t,url:e,data:n}))}})),t.exports=l},782:(t,e,n)=>{"use strict";var r=n(4867);function i(){this.handlers=[]}i.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},i.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},i.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=i},4097:(t,e,n)=>{"use strict";var r=n(1793),i=n(7303);t.exports=function(t,e){return t&&!r(e)?i(t,e):e}},5061:(t,e,n)=>{"use strict";var r=n(481);t.exports=function(t,e,n,i,a){var o=new Error(t);return r(o,e,n,i,a)}},3572:(t,e,n)=>{"use strict";var r=n(4867),i=n(8527),a=n(6502),o=n(5655),s=n(5263);function c(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s("canceled")}t.exports=function(t){return c(t),t.headers=t.headers||{},t.data=i.call(t,t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||o.adapter)(t).then((function(e){return c(t),e.data=i.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return a(e)||(c(t),e&&e.response&&(e.response.data=i.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},481:t=>{"use strict";t.exports=function(t,e,n,r,i){return t.config=e,n&&(t.code=n),t.request=r,t.response=i,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},7185:(t,e,n)=>{"use strict";var r=n(4867);t.exports=function(t,e){e=e||{};var n={};function i(t,e){return r.isPlainObject(t)&&r.isPlainObject(e)?r.merge(t,e):r.isPlainObject(e)?r.merge({},e):r.isArray(e)?e.slice():e}function a(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(t[n],e[n])}function o(t){if(!r.isUndefined(e[t]))return i(void 0,e[t])}function s(n){return r.isUndefined(e[n])?r.isUndefined(t[n])?void 0:i(void 0,t[n]):i(void 0,e[n])}function c(n){return n in e?i(t[n],e[n]):n in t?i(void 0,t[n]):void 0}var u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:c};return r.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=u[t]||a,i=e(t);r.isUndefined(i)&&e!==c||(n[t]=i)})),n}},6026:(t,e,n)=>{"use strict";var r=n(5061);t.exports=function(t,e,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?e(r("Request failed with status code "+n.status,n.config,null,n.request,n)):t(n)}},8527:(t,e,n)=>{"use strict";var r=n(4867),i=n(5655);t.exports=function(t,e,n){var a=this||i;return r.forEach(n,(function(n){t=n.call(a,t,e)})),t}},5655:(t,e,n)=>{"use strict";var r=n(4867),i=n(6016),a=n(481),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(c=n(5448)),c),transformRequest:[function(t,e){return i(e,"Accept"),i(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)||e&&"application/json"===e["Content-Type"]?(s(e,"application/json"),function(t,e,n){if(r.isString(t))try{return(e||JSON.parse)(t),r.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(n||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||u.transitional,n=e&&e.silentJSONParsing,i=e&&e.forcedJSONParsing,o=!n&&"json"===this.responseType;if(o||i&&r.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(o){if("SyntaxError"===t.name)throw a(t,this,"E_JSON_PARSE");throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(t){u.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){u.headers[t]=r.merge(o)})),t.exports=u},7288:t=>{t.exports={version:"0.24.0"}},1849:t=>{"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},5327:(t,e,n)=>{"use strict";var r=n(4867);function i(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var a;if(n)a=n(e);else if(r.isURLSearchParams(e))a=e.toString();else{var o=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),o.push(i(e)+"="+i(t))})))})),a=o.join("&")}if(a){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}},7303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},4372:(t,e,n)=>{"use strict";var r=n(4867);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,i,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},6268:t=>{"use strict";t.exports=function(t){return"object"==typeof t&&!0===t.isAxiosError}},7985:(t,e,n)=>{"use strict";var r=n(4867);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=r.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},6016:(t,e,n)=>{"use strict";var r=n(4867);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},4109:(t,e,n)=>{"use strict";var r=n(4867),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,a,o={};return t?(r.forEach(t.split("\n"),(function(t){if(a=t.indexOf(":"),e=r.trim(t.substr(0,a)).toLowerCase(),n=r.trim(t.substr(a+1)),e){if(o[e]&&i.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([n]):o[e]?o[e]+", "+n:n}})),o):o}},8713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},4875:(t,e,n)=>{"use strict";var r=n(7288).version,i={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){i[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}}));var a={};i.transitional=function(t,e,n){function i(t,e){return"[Axios v"+r+"] Transitional option '"+t+"'"+e+(n?". "+n:"")}return function(n,r,o){if(!1===t)throw new Error(i(r," has been removed"+(e?" in "+e:"")));return e&&!a[r]&&(a[r]=!0,console.warn(i(r," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(n,r,o)}},t.exports={assertOptions:function(t,e,n){if("object"!=typeof t)throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var a=r[i],o=e[a];if(o){var s=t[a],c=void 0===s||o(s,a,t);if(!0!==c)throw new TypeError("option "+a+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+a)}},validators:i}},4867:(t,e,n)=>{"use strict";var r=n(1849),i=Object.prototype.toString;function a(t){return"[object Array]"===i.call(t)}function o(t){return void 0===t}function s(t){return null!==t&&"object"==typeof t}function c(t){if("[object Object]"!==i.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function u(t){return"[object Function]"===i.call(t)}function l(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),a(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}t.exports={isArray:a,isArrayBuffer:function(t){return"[object ArrayBuffer]"===i.call(t)},isBuffer:function(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:s,isPlainObject:c,isUndefined:o,isDate:function(t){return"[object Date]"===i.call(t)},isFile:function(t){return"[object File]"===i.call(t)},isBlob:function(t){return"[object Blob]"===i.call(t)},isFunction:u,isStream:function(t){return s(t)&&u(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:l,merge:function t(){var e={};function n(n,r){c(e[r])&&c(n)?e[r]=t(e[r],n):c(n)?e[r]=t({},n):a(n)?e[r]=n.slice():e[r]=n}for(var r=0,i=arguments.length;r<i;r++)l(arguments[r],n);return e},extend:function(t,e,n){return l(e,(function(e,i){t[i]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}}},5666:t=>{var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=e&&e.prototype instanceof E?e:E,a=Object.create(i.prototype),o=new v(r||[]);return a._invoke=function(t,e,n){var r=d;return function(i,a){if(r===A)throw new Error("Generator is already running");if(r===f){if("throw"===i)throw a;return b()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=C(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=A;var c=l(t,e,n);if("normal"===c.type){if(r=n.done?f:h,c.arg===p)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}(t,n,o),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var d="suspendedStart",h="suspendedYield",A="executing",f="completed",p={};function E(){}function N(){}function S(){}var I={};c(I,a,(function(){return this}));var g=Object.getPrototypeOf,O=g&&g(g(y([])));O&&O!==n&&r.call(O,a)&&(I=O);var R=S.prototype=E.prototype=Object.create(I);function T(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function L(t,e){function n(i,a,o,s){var c=l(t[i],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==typeof d&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,o,s)}),(function(t){n("throw",t,o,s)})):e.resolve(d).then((function(t){u.value=t,o(u)}),(function(t){return n("throw",t,o,s)}))}s(c.arg)}var i;this._invoke=function(t,r){function a(){return new e((function(e,i){n(t,r,e,i)}))}return i=i?i.then(a,a):a()}}function C(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,C(t,n),"throw"===n.method))return p;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var i=l(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,p;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,p):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,p)}function m(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function w(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function v(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(m,this),this.reset(!0)}function y(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:b}}function b(){return{value:e,done:!0}}return N.prototype=S,c(R,"constructor",S),c(S,"constructor",N),N.displayName=c(S,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===N||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,S):(t.__proto__=S,c(t,s,"GeneratorFunction")),t.prototype=Object.create(R),t},t.awrap=function(t){return{__await:t}},T(L.prototype),c(L.prototype,o,(function(){return this})),t.AsyncIterator=L,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new L(u(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},T(R),c(R,s,"Generator"),c(R,a,(function(){return this})),c(R,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=y,v.prototype={constructor:v,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(w),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),u=r.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),w(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;w(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:y(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),p}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";function t(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function e(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?t(e,n):void 0}}function r(n){return function(e){if(Array.isArray(e))return t(e)}(n)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(n)||e(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function o(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,c,"next",t)}function c(t){a(o,r,i,s,c,"throw",t)}s(void 0)}))}}var s=n(7757),c=n.n(s);window.authentication_config.sessionManagementEnabled="1"===window.authentication_config.sessionManagement;const u={debug:!!window.authentication_config.debug,sessionServer:window.authentication_config?window.authentication_config.sessionServer:"",entitlementsEnabled:!!window.authentication_config&&"1"===window.authentication_config.entitlementsEnabled,dropdownEnabled:!!window.authentication_config&&"1"===window.authentication_config.dropdownEnabled,enableReaderDashboardLink:!!window.authentication_config&&"1"===window.authentication_config.enableReaderDashboardLink,oneTapEnabled:!!window.authentication_config&&"1"===window.authentication_config.oneTapEnabled,useTribMainGoogle:!!window.authentication_config&&"1"===window.authentication_config.useTribMainGoogle,isAdfreeArticle:!!window.authentication_config&&"1"===window.authentication_config.isAdfreeArticle,auth0Domain:window.authentication_config?window.authentication_config.auth0Domain:"",auth0ClientId:window.authentication_config?window.authentication_config.auth0ClientId:"",entitlementsEndpoint:window.authentication_config?window.authentication_config.entitlementsEndpoint:"",entitlementsApiKey:window.authentication_config?window.authentication_config.entitlementsAPIKey:"",linaCheckOnArticles:!!window.authentication_config&&window.authentication_config.linaCheckOnArticles,serverEntitlements:!!window.authentication_config&&window.authentication_config.serverEntitlements,googleClientId:window.authentication_config?window.authentication_config.googleClientId:"",newsletterId:window.authentication_config?window.authentication_config.newsletterId:0,connextStorageKey:"",auth0SubKey:"auth0_sub",auth0Authenticated:"auth0.is.authenticated",secret:window.authentication_config?window.authentication_config.pluginSecret:"",newslettersEnabled:!!window.authentication_config&&"1"===window.authentication_config.newslettersEnabled,bcLowaSegements:!!window.authentication_config.bcLowaSegements&&"1"===window.authentication_config.bcLowaSegements,blueconicEnabled:!!window.authentication_config.blueconicEnabled&&"1"===window.authentication_config.blueconicEnabled,sophiEnabled:!!window.authentication_config.sophiPluginEnabled&&"1"===window.authentication_config.sophiPluginEnabled,datadogEnabled:!!window.authentication_config.enableDatadog&&"1"===window.authentication_config.enableDatadog};const l=function(){if(u.debug){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).log.apply(t,["MNGDigisubs:"].concat(n))}};function d(t){this.message=t}d.prototype=new Error,d.prototype.name="InvalidCharacterError";var h="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(t){var e=String(t).replace(/=+$/,"");if(e.length%4==1)throw new d("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,a=0,o="";r=e.charAt(a++);~r&&(n=i%4?64*n+r:r,i++%4)?o+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return o};function A(t){var e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw"Illegal base64url string!"}try{return function(t){return decodeURIComponent(h(t).replace(/(.)/g,(function(t,e){var n=e.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(e)}catch(t){return h(e)}}function f(t){this.message=t}f.prototype=new Error,f.prototype.name="InvalidTokenError";const p=function(t,e){if("string"!=typeof t)throw new f("Invalid token specified");var n=!0===(e=e||{}).header?0:1;try{return JSON.parse(A(t.split(".")[n]))}catch(t){throw new f("Invalid token specified: "+t.message)}};n(9669);const E="__MNG_Session";var N=function(){var t=window.location.href;return new URL(t)},S=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=N(),n=e.hostname,r=n;t&&"string"==typeof t&&(r=t);var i=r.split(".");return"".concat(i[i.length-2],".").concat(i[i.length-1])},I=function(t){return p(t)},g=function(){return"complete"===document.readyState},O=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return new Promise((function(e){var n=!0;if(g())e();else{l("UIHandler: ","Waiting for the body to load...");var r=setInterval(o(c().mark((function i(){return c().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:t&&(n=g()),document.querySelector("body")&&n&&(clearInterval(r),e(!0));case 2:case"end":return i.stop()}}),i)}))),200)}}))},R=function(){var t=o(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){if(("interactive"===document.readyState||g())&&window.dataLayer)l("Utils digisubsDataLayerLoaded: ","Document is in interactive state, resolving."),t();else{l("Utils digisubsDataLayerLoaded: ","Waiting for the dataLayer to load...");var e=setInterval(o(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:window.dataLayer&&window.dataLayer.length>2&&(clearInterval(e),t(!0));case 1:case"end":return n.stop()}}),n)}))),50)}}));case 2:if(l("Utils getDataLayerObject: looking for this dataLayer object ",e),window.dataLayer=window.dataLayer||[],n="",l("Utils getDataLayerObject: here is dataLayer length ",window.dataLayer.length),r=function(t){return l("Utils dataLayerLoop:  look for this element ",t),t[e]?(l("Utils dataLayerLoop: found ",t[e]),n=t[e],t[e]):(l("Utils dataLayerLoop: dataLayer search ",!1),!1)},!window.dataLayer.some(r)){t.next=10;break}return t.abrupt("return",n);case 10:return t.abrupt("return",!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=function(){var t=o(c().mark((function t(){var e,n,r=arguments;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:"Page Type",t.next=3,R(e);case 3:return n=t.sent,l("utils.js | pageType: page type is ",n),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(){return new Promise((function(t,e){void 0!==window.MNGAuthentication&&void 0!==window.MNGAuthentication.authenticationReady?(l("utils.js | Authentication already ready: ",window.MNGAuthentication.authenticationReady),t(window.MNGAuthentication.authenticationReady)):(l("utils.js | Adding authenticationReady listener..."),window.addEventListener("authenticationReady",(function(n){try{var r=n.detail||{};l("utils.js | Event: authentication ready: ",r),t(r)}catch(t){l(t),e(t)}}),!1))}))},C=function(t){l("starting simpleEmailValidation");var e=new RegExp(/^(([^<>()[\]\\.,;:\s@']+(\.[^<>()[\]\\.,;:\s@']+)*)|('.+'))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i);if(!t)return{valid:!1,message:"Please enter an email."};if(!e.test(t))return{valid:!1,message:"Please enter a valid email."};var n=t.match(/\.([^.\n\s]*)$/)[1].toUpperCase(),r=["AAA","AARP","ABARTH","ABB","ABBOTT","ABBVIE","ABC","ABLE","ABOGADO","ABUDHABI","AC","ACADEMY","ACCENTURE","ACCOUNTANT","ACCOUNTANTS","ACO","ACTOR","AD","ADS","ADULT","AE","AEG","AERO","AETNA","AF","AFL","AFRICA","AG","AGAKHAN","AGENCY","AI","AIG","AIRBUS","AIRFORCE","AIRTEL","AKDN","AL","ALFAROMEO","ALIBABA","ALIPAY","ALLFINANZ","ALLSTATE","ALLY","ALSACE","ALSTOM","AM","AMAZON","AMERICANEXPRESS","AMERICANFAMILY","AMEX","AMFAM","AMICA","AMSTERDAM","ANALYTICS","ANDROID","ANQUAN","ANZ","AO","AOL","APARTMENTS","APP","APPLE","AQ","AQUARELLE","AR","ARAB","ARAMCO","ARCHI","ARMY","ARPA","ART","ARTE","AS","ASDA","ASIA","ASSOCIATES","AT","ATHLETA","ATTORNEY","AU","AUCTION","AUDI","AUDIBLE","AUDIO","AUSPOST","AUTHOR","AUTO","AUTOS","AVIANCA","AW","AWS","AX","AXA","AZ","AZURE","BA","BABY","BAIDU","BANAMEX","BANANAREPUBLIC","BAND","BANK","BAR","BARCELONA","BARCLAYCARD","BARCLAYS","BAREFOOT","BARGAINS","BASEBALL","BASKETBALL","BAUHAUS","BAYERN","BB","BBC","BBT","BBVA","BCG","BCN","BD","BE","BEATS","BEAUTY","BEER","BENTLEY","BERLIN","BEST","BESTBUY","BET","BF","BG","BH","BHARTI","BI","BIBLE","BID","BIKE","BING","BINGO","BIO","BIZ","BJ","BLACK","BLACKFRIDAY","BLOCKBUSTER","BLOG","BLOOMBERG","BLUE","BM","BMS","BMW","BN","BNPPARIBAS","BO","BOATS","BOEHRINGER","BOFA","BOM","BOND","BOO","BOOK","BOOKING","BOSCH","BOSTIK","BOSTON","BOT","BOUTIQUE","BOX","BR","BRADESCO","BRIDGESTONE","BROADWAY","BROKER","BROTHER","BRUSSELS","BS","BT","BUILD","BUILDERS","BUSINESS","BUY","BUZZ","BV","BW","BY","BZ","BZH","CA","CAB","CAFE","CAL","CALL","CALVINKLEIN","CAM","CAMERA","CAMP","CANON","CAPETOWN","CAPITAL","CAPITALONE","CAR","CARAVAN","CARDS","CARE","CAREER","CAREERS","CARS","CASA","CASE","CASH","CASINO","CAT","CATERING","CATHOLIC","CBA","CBN","CBRE","CBS","CC","CD","CENTER","CEO","CERN","CF","CFA","CFD","CG","CH","CHANEL","CHANNEL","CHARITY","CHASE","CHAT","CHEAP","CHINTAI","CHRISTMAS","CHROME","CHURCH","CI","CIPRIANI","CIRCLE","CISCO","CITADEL","CITI","CITIC","CITY","CITYEATS","CK","CL","CLAIMS","CLEANING","CLICK","CLINIC","CLINIQUE","CLOTHING","CLOUD","CLUB","CLUBMED","CM","CN","CO","COACH","CODES","COFFEE","COLLEGE","COLOGNE","COM","COMCAST","COMMBANK","COMMUNITY","COMPANY","COMPARE","COMPUTER","COMSEC","CONDOS","CONSTRUCTION","CONSULTING","CONTACT","CONTRACTORS","COOKING","COOKINGCHANNEL","COOL","COOP","CORSICA","COUNTRY","COUPON","COUPONS","COURSES","CPA","CR","CREDIT","CREDITCARD","CREDITUNION","CRICKET","CROWN","CRS","CRUISE","CRUISES","CU","CUISINELLA","CV","CW","CX","CY","CYMRU","CYOU","CZ","DABUR","DAD","DANCE","DATA","DATE","DATING","DATSUN","DAY","DCLK","DDS","DE","DEAL","DEALER","DEALS","DEGREE","DELIVERY","DELL","DELOITTE","DELTA","DEMOCRAT","DENTAL","DENTIST","DESI","DESIGN","DEV","DHL","DIAMONDS","DIET","DIGITAL","DIRECT","DIRECTORY","DISCOUNT","DISCOVER","DISH","DIY","DJ","DK","DM","DNP","DO","DOCS","DOCTOR","DOG","DOMAINS","DOT","DOWNLOAD","DRIVE","DTV","DUBAI","DUNLOP","DUPONT","DURBAN","DVAG","DVR","DZ","EARTH","EAT","EC","ECO","EDEKA","EDU","EDUCATION","EE","EG","EMAIL","EMERCK","ENERGY","ENGINEER","ENGINEERING","ENTERPRISES","EPSON","EQUIPMENT","ER","ERICSSON","ERNI","ES","ESQ","ESTATE","ET","ETISALAT","EU","EUROVISION","EUS","EVENTS","EXCHANGE","EXPERT","EXPOSED","EXPRESS","EXTRASPACE","FAGE","FAIL","FAIRWINDS","FAITH","FAMILY","FAN","FANS","FARM","FARMERS","FASHION","FAST","FEDEX","FEEDBACK","FERRARI","FERRERO","FI","FIAT","FIDELITY","FIDO","FILM","FINAL","FINANCE","FINANCIAL","FIRE","FIRESTONE","FIRMDALE","FISH","FISHING","FIT","FITNESS","FJ","FK","FLICKR","FLIGHTS","FLIR","FLORIST","FLOWERS","FLY","FM","FO","FOO","FOOD","FOODNETWORK","FOOTBALL","FORD","FOREX","FORSALE","FORUM","FOUNDATION","FOX","FR","FREE","FRESENIUS","FRL","FROGANS","FRONTDOOR","FRONTIER","FTR","FUJITSU","FUN","FUND","FURNITURE","FUTBOL","FYI","GA","GAL","GALLERY","GALLO","GALLUP","GAME","GAMES","GAP","GARDEN","GAY","GB","GBIZ","GD","GDN","GE","GEA","GENT","GENTING","GEORGE","GF","GG","GGEE","GH","GI","GIFT","GIFTS","GIVES","GIVING","GL","GLASS","GLE","GLOBAL","GLOBO","GM","GMAIL","GMBH","GMO","GMX","GN","GODADDY","GOLD","GOLDPOINT","GOLF","GOO","GOODYEAR","GOOG","GOOGLE","GOP","GOT","GOV","GP","GQ","GR","GRAINGER","GRAPHICS","GRATIS","GREEN","GRIPE","GROCERY","GROUP","GS","GT","GU","GUARDIAN","GUCCI","GUGE","GUIDE","GUITARS","GURU","GW","GY","HAIR","HAMBURG","HANGOUT","HAUS","HBO","HDFC","HDFCBANK","HEALTH","HEALTHCARE","HELP","HELSINKI","HERE","HERMES","HGTV","HIPHOP","HISAMITSU","HITACHI","HIV","HK","HKT","HM","HN","HOCKEY","HOLDINGS","HOLIDAY","HOMEDEPOT","HOMEGOODS","HOMES","HOMESENSE","HONDA","HORSE","HOSPITAL","HOST","HOSTING","HOT","HOTELES","HOTELS","HOTMAIL","HOUSE","HOW","HR","HSBC","HT","HU","HUGHES","HYATT","HYUNDAI","IBM","ICBC","ICE","ICU","ID","IE","IEEE","IFM","IKANO","IL","IM","IMAMAT","IMDB","IMMO","IMMOBILIEN","IN","INC","INDUSTRIES","INFINITI","INFO","ING","INK","INSTITUTE","INSURANCE","INSURE","INT","INTERNATIONAL","INTUIT","INVESTMENTS","IO","IPIRANGA","IQ","IR","IRISH","IS","ISMAILI","IST","ISTANBUL","IT","ITAU","ITV","JAGUAR","JAVA","JCB","JE","JEEP","JETZT","JEWELRY","JIO","JLL","JM","JMP","JNJ","JO","JOBS","JOBURG","JOT","JOY","JP","JPMORGAN","JPRS","JUEGOS","JUNIPER","KAUFEN","KDDI","KE","KERRYHOTELS","KERRYLOGISTICS","KERRYPROPERTIES","KFH","KG","KH","KI","KIA","KIDS","KIM","KINDER","KINDLE","KITCHEN","KIWI","KM","KN","KOELN","KOMATSU","KOSHER","KP","KPMG","KPN","KR","KRD","KRED","KUOKGROUP","KW","KY","KYOTO","KZ","LA","LACAIXA","LAMBORGHINI","LAMER","LANCASTER","LANCIA","LAND","LANDROVER","LANXESS","LASALLE","LAT","LATINO","LATROBE","LAW","LAWYER","LB","LC","LDS","LEASE","LECLERC","LEFRAK","LEGAL","LEGO","LEXUS","LGBT","LI","LIDL","LIFE","LIFEINSURANCE","LIFESTYLE","LIGHTING","LIKE","LILLY","LIMITED","LIMO","LINCOLN","LINDE","LINK","LIPSY","LIVE","LIVING","LK","LLC","LLP","LOAN","LOANS","LOCKER","LOCUS","LOFT","LOL","LONDON","LOTTE","LOTTO","LOVE","LPL","LPLFINANCIAL","LR","LS","LT","LTD","LTDA","LU","LUNDBECK","LUXE","LUXURY","LV","LY","MA","MACYS","MADRID","MAIF","MAISON","MAKEUP","MAN","MANAGEMENT","MANGO","MAP","MARKET","MARKETING","MARKETS","MARRIOTT","MARSHALLS","MASERATI","MATTEL","MBA","MC","MCKINSEY","MD","ME","MED","MEDIA","MEET","MELBOURNE","MEME","MEMORIAL","MEN","MENU","MERCKMSD","MG","MH","MIAMI","MICROSOFT","MIL","MINI","MINT","MIT","MITSUBISHI","MK","ML","MLB","MLS","MM","MMA","MN","MO","MOBI","MOBILE","MODA","MOE","MOI","MOM","MONASH","MONEY","MONSTER","MORMON","MORTGAGE","MOSCOW","MOTO","MOTORCYCLES","MOV","MOVIE","MP","MQ","MR","MS","MSD","MT","MTN","MTR","MU","MUSEUM","MUSIC","MUTUAL","MV","MW","MX","MY","MZ","NA","NAB","NAGOYA","NAME","NATURA","NAVY","NBA","NC","NE","NEC","NET","NETBANK","NETFLIX","NETWORK","NEUSTAR","NEW","NEWS","NEXT","NEXTDIRECT","NEXUS","NF","NFL","NG","NGO","NHK","NI","NICO","NIKE","NIKON","NINJA","NISSAN","NISSAY","NL","NO","NOKIA","NORTHWESTERNMUTUAL","NORTON","NOW","NOWRUZ","NOWTV","NP","NR","NRA","NRW","NTT","NU","NYC","NZ","OBI","OBSERVER","OFFICE","OKINAWA","OLAYAN","OLAYANGROUP","OLDNAVY","OLLO","OM","OMEGA","ONE","ONG","ONL","ONLINE","OOO","OPEN","ORACLE","ORANGE","ORG","ORGANIC","ORIGINS","OSAKA","OTSUKA","OTT","OVH","PA","PAGE","PANASONIC","PARIS","PARS","PARTNERS","PARTS","PARTY","PASSAGENS","PAY","PCCW","PE","PET","PF","PFIZER","PG","PH","PHARMACY","PHD","PHILIPS","PHONE","PHOTO","PHOTOGRAPHY","PHOTOS","PHYSIO","PICS","PICTET","PICTURES","PID","PIN","PING","PINK","PIONEER","PIZZA","PK","PL","PLACE","PLAY","PLAYSTATION","PLUMBING","PLUS","PM","PN","PNC","POHL","POKER","POLITIE","PORN","POST","PR","PRAMERICA","PRAXI","PRESS","PRIME","PRO","PROD","PRODUCTIONS","PROF","PROGRESSIVE","PROMO","PROPERTIES","PROPERTY","PROTECTION","PRU","PRUDENTIAL","PS","PT","PUB","PW","PWC","PY","QA","QPON","QUEBEC","QUEST","RACING","RADIO","RE","READ","REALESTATE","REALTOR","REALTY","RECIPES","RED","REDSTONE","REDUMBRELLA","REHAB","REISE","REISEN","REIT","RELIANCE","REN","RENT","RENTALS","REPAIR","REPORT","REPUBLICAN","REST","RESTAURANT","REVIEW","REVIEWS","REXROTH","RICH","RICHARDLI","RICOH","RIL","RIO","RIP","RO","ROCHER","ROCKS","RODEO","ROGERS","ROOM","RS","RSVP","RU","RUGBY","RUHR","RUN","RW","RWE","RYUKYU","SA","SAARLAND","SAFE","SAFETY","SAKURA","SALE","SALON","SAMSCLUB","SAMSUNG","SANDVIK","SANDVIKCOROMANT","SANOFI","SAP","SARL","SAS","SAVE","SAXO","SB","SBI","SBS","SC","SCA","SCB","SCHAEFFLER","SCHMIDT","SCHOLARSHIPS","SCHOOL","SCHULE","SCHWARZ","SCIENCE","SCOT","SD","SE","SEARCH","SEAT","SECURE","SECURITY","SEEK","SELECT","SENER","SERVICES","SES","SEVEN","SEW","SEX","SEXY","SFR","SG","SH","SHANGRILA","SHARP","SHAW","SHELL","SHIA","SHIKSHA","SHOES","SHOP","SHOPPING","SHOUJI","SHOW","SHOWTIME","SI","SILK","SINA","SINGLES","SITE","SJ","SK","SKI","SKIN","SKY","SKYPE","SL","SLING","SM","SMART","SMILE","SN","SNCF","SO","SOCCER","SOCIAL","SOFTBANK","SOFTWARE","SOHU","SOLAR","SOLUTIONS","SONG","SONY","SOY","SPA","SPACE","SPORT","SPOT","SR","SRL","SS","ST","STADA","STAPLES","STAR","STATEBANK","STATEFARM","STC","STCGROUP","STOCKHOLM","STORAGE","STORE","STREAM","STUDIO","STUDY","STYLE","SU","SUCKS","SUPPLIES","SUPPLY","SUPPORT","SURF","SURGERY","SUZUKI","SV","SWATCH","SWISS","SX","SY","SYDNEY","SYSTEMS","SZ","TAB","TAIPEI","TALK","TAOBAO","TARGET","TATAMOTORS","TATAR","TATTOO","TAX","TAXI","TC","TCI","TD","TDK","TEAM","TECH","TECHNOLOGY","TEL","TEMASEK","TENNIS","TEVA","TF","TG","TH","THD","THEATER","THEATRE","TIAA","TICKETS","TIENDA","TIFFANY","TIPS","TIRES","TIROL","TJ","TJMAXX","TJX","TK","TKMAXX","TL","TM","TMALL","TN","TO","TODAY","TOKYO","TOOLS","TOP","TORAY","TOSHIBA","TOTAL","TOURS","TOWN","TOYOTA","TOYS","TR","TRADE","TRADING","TRAINING","TRAVEL","TRAVELCHANNEL","TRAVELERS","TRAVELERSINSURANCE","TRUST","TRV","TT","TUBE","TUI","TUNES","TUSHU","TV","TVS","TW","TZ","UA","UBANK","UBS","UG","UK","UNICOM","UNIVERSITY","UNO","UOL","UPS","US","UY","UZ","VA","VACATIONS","VANA","VANGUARD","VC","VE","VEGAS","VENTURES","VERISIGN","VERSICHERUNG","VET","VG","VI","VIAJES","VIDEO","VIG","VIKING","VILLAS","VIN","VIP","VIRGIN","VISA","VISION","VIVA","VIVO","VLAANDEREN","VN","VODKA","VOLKSWAGEN","VOLVO","VOTE","VOTING","VOTO","VOYAGE","VU","VUELOS","WALES","WALMART","WALTER","WANG","WANGGOU","WATCH","WATCHES","WEATHER","WEATHERCHANNEL","WEBCAM","WEBER","WEBSITE","WED","WEDDING","WEIBO","WEIR","WF","WHOSWHO","WIEN","WIKI","WILLIAMHILL","WIN","WINDOWS","WINE","WINNERS","WME","WOLTERSKLUWER","WOODSIDE","WORK","WORKS","WORLD","WOW","WS","WTC","WTF","XBOX","XEROX","XFINITY","XIHUAN","XIN","XN--11B4C3D","XN--1CK2E1B","XN--1QQW23A","XN--2SCRJ9C","XN--30RR7Y","XN--3BST00M","XN--3DS443G","XN--3E0B707E","XN--3HCRJ9C","XN--3PXU8K","XN--42C2D9A","XN--45BR5CYL","XN--45BRJ9C","XN--45Q11C","XN--4DBRK0CE","XN--4GBRIM","XN--54B7FTA0CC","XN--55QW42G","XN--55QX5D","XN--5SU34J936BGSG","XN--5TZM5G","XN--6FRZ82G","XN--6QQ986B3XL","XN--80ADXHKS","XN--80AO21A","XN--80AQECDR1A","XN--80ASEHDB","XN--80ASWG","XN--8Y0A063A","XN--90A3AC","XN--90AE","XN--90AIS","XN--9DBQ2A","XN--9ET52U","XN--9KRT00A","XN--B4W605FERD","XN--BCK1B9A5DRE4C","XN--C1AVG","XN--C2BR7G","XN--CCK2B3B","XN--CCKWCXETD","XN--CG4BKI","XN--CLCHC0EA0B2G2A9GCD","XN--CZR694B","XN--CZRS0T","XN--CZRU2D","XN--D1ACJ3B","XN--D1ALF","XN--E1A4C","XN--ECKVDTC9D","XN--EFVY88H","XN--FCT429K","XN--FHBEI","XN--FIQ228C5HS","XN--FIQ64B","XN--FIQS8S","XN--FIQZ9S","XN--FJQ720A","XN--FLW351E","XN--FPCRJ9C3D","XN--FZC2C9E2C","XN--FZYS8D69UVGM","XN--G2XX48C","XN--GCKR3F0F","XN--GECRJ9C","XN--GK3AT1E","XN--H2BREG3EVE","XN--H2BRJ9C","XN--H2BRJ9C8C","XN--HXT814E","XN--I1B6B1A6A2E","XN--IMR513N","XN--IO0A7I","XN--J1AEF","XN--J1AMH","XN--J6W193G","XN--JLQ480N2RG","XN--JVR189M","XN--KCRX77D1X4A","XN--KPRW13D","XN--KPRY57D","XN--KPUT3I","XN--L1ACC","XN--LGBBAT1AD8J","XN--MGB9AWBF","XN--MGBA3A3EJT","XN--MGBA3A4F16A","XN--MGBA7C0BBN0A","XN--MGBAAKC7DVF","XN--MGBAAM7A8H","XN--MGBAB2BD","XN--MGBAH1A3HJKRD","XN--MGBAI9AZGQP6J","XN--MGBAYH7GPA","XN--MGBBH1A","XN--MGBBH1A71E","XN--MGBC0A9AZCG","XN--MGBCA7DZDO","XN--MGBCPQ6GPA1A","XN--MGBERP4A5D4AR","XN--MGBGU82A","XN--MGBI4ECEXP","XN--MGBPL2FH","XN--MGBT3DHD","XN--MGBTX2B","XN--MGBX4CD0AB","XN--MIX891F","XN--MK1BU44C","XN--MXTQ1M","XN--NGBC5AZD","XN--NGBE9E0A","XN--NGBRX","XN--NODE","XN--NQV7F","XN--NQV7FS00EMA","XN--NYQY26A","XN--O3CW4H","XN--OGBPF8FL","XN--OTU796D","XN--P1ACF","XN--P1AI","XN--PGBS0DH","XN--PSSY2U","XN--Q7CE6A","XN--Q9JYB4C","XN--QCKA1PMC","XN--QXA6A","XN--QXAM","XN--RHQV96G","XN--ROVU88B","XN--RVC1E0AM3E","XN--S9BRJ9C","XN--SES554G","XN--T60B56A","XN--TCKWE","XN--TIQ49XQYJ","XN--UNUP4Y","XN--VERMGENSBERATER-CTB","XN--VERMGENSBERATUNG-PWB","XN--VHQUV","XN--VUQ861B","XN--W4R85EL8FHU5DNRA","XN--W4RS40L","XN--WGBH1C","XN--WGBL6A","XN--XHQ521B","XN--XKC2AL3HYE2A","XN--XKC2DL3A5EE0H","XN--Y9A3AQ","XN--YFRO4I67O","XN--YGBI2AMMX","XN--ZFR164B","XXX","XYZ","YACHTS","YAHOO","YAMAXUN","YANDEX","YE","YODOBASHI","YOGA","YOKOHAMA","YOU","YOUTUBE","YT","YUN","ZA","ZAPPOS","ZARA","ZERO","ZIP","ZM","ZONE","ZUERICH","ZW"].includes(n);return l("simpleEmailValidation: ","TLD search ".concat(r)),!1===r?{valid:!1,message:"Please enter a valid email domain."}:-1===["zzz.pl"].findIndex((function(e){return e===t.split("@")[1]}))?{valid:!0,message:"Valid"}:{valid:!1,message:"Please enter a valid email."}};window.simpleEmailValidation=C;window.validatePhoneNumber=function(t){return/^[0-9]([0-9 -])*[0-9]$/.test(t)};var m=function(){"undefined"==typeof Connext?document.addEventListener("onInit",(function(){Connext.Run()})):Connext.Run()};var w=function(t){try{window.dataLayer.push({event:t}),l("ANALYTICS: ".concat(t," event")),l("ANALYTICS: GA/ datalayer ",window.dataLayer)}catch(e){l("ANALYTICS: Failed to send ".concat(t," event: "),e)}};var v="#main .article-share ul",y=".dropdown-menu .account-settings",b="#push-account-link",M=".nav-wrapper-secondary .article-share ul",B=function(t,e){var n=t,r=document.getElementById("article-share-copy-link-text".concat(e));"COPIED!"!==t&&(document.getElementById("article-share-copy-btn".concat(e)).disabled=!0);l("article sharing: user message inside share button: ",t,e),document.getElementById("articleCopyLinkSpinner".concat(e)).setAttribute("style","display:none"),document.getElementById("article-share-copy-btn".concat(e)).classList.remove("spinner-pad"),document.getElementById("articleCopyLinkSpinner".concat(e)).classList.remove("spring-spinner-mar"),document.getElementById("article-share-copy-link-text".concat(e)).setAttribute("style","display:inline;"),r.innerHTML="COPIED!"===t?"".concat(n,' <svg width="18" height="18" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" style="vertical-align: bottom;">\n\t<path d="M8.61162 13.1453L18.5625 2.72401L21.3087 5.6L8.25 19.276L0.691332 11.36L3.4375 8.48401L7.88838 13.1453L8.25 13.524L8.61162 13.1453Z" fill="#4FF21F" stroke="black"></path>\n\t</svg>'):t},G=function(){var t=o(c().mark((function t(e){var n,r,a,o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(localStorage.getItem("__MNG_Session")||"undefined"==typeof MNGAuthentication){t.next=6;break}return l("Article Sharing: no cookie found state: ",MNGAuthentication.isUserSubscriber(),"undefined"==typeof MNGAuthentication?"undefined":i(MNGAuthentication),i(MNGAuthentication.isUserSubscriber)),l("Article Sharing: awaiting auth event "),t.next=5,window.MNGAuthentication.init();case 5:l("Article Sharing: auth event complete - is user subscriber ",MNGAuthentication.isUserSubscriber(),"undefined"==typeof MNGAuthentication?"undefined":i(MNGAuthentication),i(MNGAuthentication.isUserSubscriber));case 6:if(null===localStorage.getItem(E)||"{}"===localStorage.getItem(E)){t.next=24;break}if(n=JSON.parse(localStorage.getItem(E)),r={},l("article sharing: checking session object",n.entitlementToken),null!==n.idToken&&null!==n.entitlementToken){t.next=13;break}return B('<span style="color:red">Error: please logout and back in again</span>',e),t.abrupt("return",!1);case 13:if(!n.idToken||!n.entitlementToken){t.next=20;break}r=I(n.idToken),a=I(n.entitlementToken),l("Article sharing: sessionID ",r),l("Article sharing: sessionEntitlements ",a),t.next=21;break;case 20:return t.abrupt("return",!1);case 21:return o={uuid:r.sub},l("Article sharing: get user UUID",o.uuid),t.abrupt("return",o);case 24:return l("Article sharing: user doesn't appear to be logged in"),B('<span style="color:red">Error: please logout and back in again</span>',e),t.abrupt("return",!1);case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=o(c().mark((function t(e){var n,r,i,a,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G(e);case 2:return n=t.sent,r=u.entitlementsApiKey,i="".concat(u.entitlementsEndpoint,"articleSharing/checkRemaining"),l("Article sharing: api data: ",r),a={uid:n.uuid},s=function(){var t=o(c().mark((function t(e){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l("Article sharing: updating article count everywhere with ",e),document.querySelectorAll(".article-share-count").forEach((function(t){l("article sharing: updated article count! ",t),t.innerHTML=e})),l("Article sharing: update finished, return true"),t.abrupt("return",!0);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l("Article sharing: articles remaining api body: ",a),t.abrupt("return",$.ajax({type:"POST",url:i,headers:{"X-Api-Key":u.entitlementsApiKey},data:JSON.stringify(a),success:function(){var t=o(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l("Article sharing: checkRemaining response: successful: ",e.remaining),n="10",n="This user does not exists in the database. Return 10 for sharesRemaining."===e.remaining?"10":e.remaining,t.next=5,s(n);case 5:return t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),error:function(){var t=o(c().mark((function t(e,n,r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l("Article sharing: checkRemaining Failure: ",r),t.next=3,s("Error, reload page");case 3:return t.abrupt("return",!1);case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=o(c().mark((function t(e){var n,r,i,a,o,s,d,h,A,f;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=function(t){for(var e="",n=a.replace(/[^0-9a-zA-Z]+/gm,""),r=n.length,i=0;i<t;i+=1)e+=n.charAt(Math.floor(Math.random()*r));return e},l("Article sharing: generate copy link"),w("articleshare-createlink"),l("Article sharing: event details ",e),document.getElementById("articleCopyLinkSpinner".concat(e)).setAttribute("style","display:flex"),document.getElementById("articleCopyLinkSpinner".concat(e)).classList.add("spring-spinner-mar"),document.getElementById("article-share-copy-btn".concat(e)).classList.add("spinner-pad"),document.getElementById("article-share-copy-link-text".concat(e)).setAttribute("style","display:none;"),t.next=10,G(e);case 10:return r=t.sent,t.next=13,R("Content ID");case 13:return i=t.sent,t.next=16,R("URL");case 16:return a=t.sent,t.next=19,S();case 19:return o=t.sent,l("Article sharing: get article ID",i),l("Article sharing: publication: ",o),d=s(20),l("Article sharing: unique share code: ",d),h=u.entitlementsApiKey,A="".concat(u.entitlementsEndpoint,"articleSharing/checkArticleSharedLink"),f={uid:r.uuid,articleName:i,publication:o,code:d},t.prev=27,n=$.ajax({type:"POST",url:A,headers:{"X-Api-Key":h},data:JSON.stringify(f)}),t.abrupt("return",n);case 32:return t.prev=32,t.t0=t.catch(27),B("Network error, try again",e),l("Article sharing: generateArticleShareLink endpoint Failure: ",t.t0),t.abrupt("return",new Error("Article sharing: check article endpoint failure"));case 37:case"end":return t.stop()}}),t,null,[[27,32]])})));return function(e){return t.apply(this,arguments)}}(),P=function(t){try{return new URL(t),!0}catch(t){return!1}},H=function(){var t=o(c().mark((function t(){var e,n,r,i,a,s,u,d;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l("Article sharing: start nav menu adds"),t.next=3,new Promise((function(t){if(g())t();else{l("Utils digisubsMenuLoaded: ","Waiting for the digisubs dropdown to load...");var e=setInterval(o(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:document.getElementById("account-content")&&(clearInterval(e),t(!0));case 1:case"end":return n.stop()}}),n)}))),200)}}));case 3:return e=t.sent,l("Article sharing: init: digisubs dropdown ready: ",e),n=document.querySelector(y),r=document.querySelector(b),l("Article sharing: dropdown found",n),t.next=10,T();case 10:i=t.sent,l("Article sharing: pagetype for nav menus is ",i),"10",l(),a='<div id="article-share-dropdown" class="dropdown-item"><h6 class="article-share-h6">Gift Articles Remaining: <span class="article-share-count">'.concat("10","/10</span> </h6></div>"),l("Article sharing: dropdown content: ",a),n.insertAdjacentHTML("beforebegin",a),r.insertAdjacentHTML("beforebegin",a),""!==(s=P(window.article_config.article_sharing_faq)?window.article_config.article_sharing_faq:"")&&(u='<a id="article-share-help" target="_blank" href="'.concat(s,'">?</a>'),null==(d=document.querySelectorAll(".article-share-h6"))||d.forEach((function(t){t.insertAdjacentHTML("beforeend",u)})));case 21:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(t){var e,n=document.getElementById("share-icon-position".concat(t));"rgba(0, 0, 0, 0)"===window.getComputedStyle(document.querySelector("li.share-article")).backgroundColor?(n.classList.add("article-share-icon-invert"),e=window.getComputedStyle(document.getElementById("page")).getPropertyValue("--primary")):e="white";var r='<svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" viewBox="0 0 22 22" fill="none">\n\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M15.4835 2.11615V0L21 3L19.8462 3.6289L18.1538 4.54674L15.4835 6V3.76487C15.2527 3.73938 15.011 3.73088 14.7692 3.73088C12.7253 3.73088 10.9451 4.50425 10 5.66856C10.2418 3.67989 12.6044 2.11615 15.4835 2.11615ZM14.5446 9.28271H16.2577H16.2691C16.6802 9.28271 17 9.61414 17 10.0141V13.6484C17 14.0599 16.6688 14.3799 16.2691 14.3799H15.5382V20.9284C15.5382 21.3399 15.207 21.6599 14.8073 21.6599H3.19272C2.78158 21.6599 2.46181 21.3284 2.46181 20.9284V14.3799H1.73091C1.31977 14.3799 1 14.0484 1 13.6484V10.0141C1 9.60271 1.33119 9.28271 1.73091 9.28271H3.44397C3.28408 8.95128 3.19272 8.57414 3.19272 8.19699C3.19272 7.52271 3.46681 6.88271 3.93505 6.40271C4.40328 5.92271 5.05425 5.65985 5.72805 5.65985C7.39543 5.65985 8.41185 6.87128 8.94861 7.85414C8.97145 7.88842 8.98287 7.91128 8.99429 7.94557C9 7.92842 9.00856 7.91414 9.01713 7.89985C9.0257 7.88557 9.03426 7.87128 9.03997 7.85414C9.57673 6.87128 10.5817 5.65985 12.2605 5.65985C12.9343 5.65985 13.5739 5.92271 14.0535 6.40271C14.5332 6.87128 14.7959 7.52271 14.7959 8.19699C14.7959 8.57414 14.7045 8.93985 14.5446 9.28271ZM12.2605 7.09985C11.3926 7.09985 10.7645 7.70556 10.3076 8.53985V8.52842C10.1706 8.77985 10.0564 9.04271 9.96502 9.27128H12.2605C12.5575 9.27128 12.8315 9.14557 13.0371 8.95128C13.2427 8.75699 13.3569 8.47128 13.3569 8.18556C13.3569 7.89985 13.2427 7.62557 13.0371 7.41985C12.8315 7.21414 12.546 7.09985 12.2605 7.09985ZM4.63169 8.19699C4.63169 8.48271 4.7459 8.75699 4.95146 8.96271V8.97414C5.14561 9.17985 5.43112 9.29414 5.71663 9.29414H8.01213C7.92077 9.05414 7.80657 8.80271 7.66952 8.55128C7.2127 7.71699 6.58458 7.11128 5.71663 7.11128C5.43112 7.11128 5.15703 7.22557 4.95146 7.43128C4.7459 7.62557 4.63169 7.91128 4.63169 8.19699ZM8.26338 10.7341H2.45039V12.917H8.26338V10.7341ZM8.26338 14.3684H3.91221V20.1856H8.26338V14.3684ZM9.71378 20.1856H14.0764V14.3684H9.71378V20.1856ZM9.7252 12.917H15.5268H15.5382V10.7341H9.7252V12.917Z" fill="'.concat(e,'"/>\n\t\t</svg>'),i=window.btoa(r),a="url(data:image/svg+xml;base64,".concat(i,")");return n.style.background=a,"url(data:image/svg+xml;base64,".concat(i,")")},X=function(t){t.classList.contains("article-share-fixed")&&t.classList.remove("article-share-fixed")},k=function(){var t=o(c().mark((function t(e){var n,i,a,s,u,d,h,A,f;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l("Article sharing: build menu here"),t.next=3,O();case 3:if(l(" Article Sharing: Build sharing menuz!"),n="",i=function(){var t=o(c().mark((function t(r){var i,a,o,s,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(w("articleshare-openui"),i=document.getElementById("share-box-position".concat(r)),l("Article Sharing: i clicked this ",i,r),a=document.getElementById(i.id),l("article sharing: look for this box: ",i),i.classList.contains("show-article-sharing")||(l("article sharing: box already open, do not show spinner"),document.getElementById("articleShareBtnSpinner".concat(r)).setAttribute("style","display:block"),document.getElementById("share-icon-position".concat(r)).setAttribute("style","display:none!important;")),o=!1,e&&!i.classList.contains("show-article-sharing")){t.next=11;break}o=!0,t.next=20;break;case 11:return t.prev=11,t.next=14,U(r);case 14:o=t.sent,t.next=20;break;case 17:t.prev=17,t.t0=t.catch(11),l("Article share article count api error");case 20:l("article sharing: api request done, show results ",o),document.getElementById("share-icon-position".concat(r)).setAttribute("style","background:".concat(n,"; display:block!important;")),document.getElementById("articleShareBtnSpinner".concat(r)).setAttribute("style","display:none"),i.classList.toggle("show-article-sharing"),a.classList.toggle("show"),0!==r&&(c=void 0,(c=i.getBoundingClientRect()).top>=0&&c.left>=0&&c.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&c.right<=(window.innerWidth||document.documentElement.clientWidth)||i.classList.add("article-share-fixed")),s=document.querySelector("#article-share-position".concat(r," .article-share-link")),l("article sharing: accessible ",s),u=a.classList.contains("show"),l("article sharing: box isOpen ",u),u||(a.setAttribute("aria-expanded","false"),s.setAttribute("aria-press","false")),u&&(a.setAttribute("aria-expanded","true"),s.setAttribute("aria-press","true")),o.remaining<=0&&(l("article share: user out of free views ",o),B("No more shares left",r));case 34:case"end":return t.stop()}var c}),t,null,[[11,17]])})));return function(e){return t.apply(this,arguments)}}(),a='\n\tGet Share Link\n\t<svg id="copy-icon-svg" width="18" height="18" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t<path d="M14.7895 2H4.68421C3.75789 2 3 2.73636 3 3.63636V15.0909H4.68421V3.63636H14.7895V2ZM17.3158 5.27273H8.05263C7.12632 5.27273 6.36842 6.00909 6.36842 6.90909V18.3636C6.36842 19.2636 7.12632 20 8.05263 20H17.3158C18.2421 20 19 19.2636 19 18.3636V6.90909C19 6.00909 18.2421 5.27273 17.3158 5.27273ZM17.3158 18.3636H8.05263V6.90909H17.3158V18.3636Z" fill="#ffffff"/>\n\t</svg>',s=function(t){var n=document.getElementById("share-box-position".concat(t)),r=document.getElementById("cancel-button-label".concat(t));if(r&&(r.childNodes[0].nodeValue="Cancel"),n&&n.classList.contains("show-article-sharing")){var o=document.getElementById("article-share-copy-link-text".concat(t));e&&o&&(o.innerHTML=a),i(t,"close"),0===t&&X(n)}},u=function(t,e){e&&e.addEventListener("click",(function(){s(t)}))},window.addEventListener("click",(function(t){var n=t.target,r=n.closest(".article-share-link");if(e){var i=n.closest("#share-box-position0");null===(i&&i.classList.contains("show-article-sharing"))&&null===r&&s(0)}var a=n.closest("#share-box-position1");null===(a&&a.classList.contains("show-article-sharing"))&&null===r&&s(1);var o=n.closest("#share-box-position2");null===(o&&o.classList.contains("show-article-sharing"))&&null===r&&s(2)})),d=function(){var t=o(c().mark((function t(r){var o;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R("Page Title");case 2:o=t.sent,r.map((function(t,r){l("Article sharing: create button for this: ",t,r);var s=document.createElement("li");s.className="share-article",s.id="article-share-position".concat(r),s.setAttribute("tabindex","0");var c=document.createElement("button");c.className="article-share-link",c.setAttribute("aria-pressed","false"),c.setAttribute("aria-controls","share-box-position".concat(r)),c.setAttribute("aria-label","Article Sharing Button"),c.setAttribute("tabindex","0"),s.append(c);var d=document.createElement("span");d.style.display="none",d.classList.add("spring-spinner"),d.id="articleShareBtnSpinner".concat(r),d.innerHTML='\n\t\t\t<div class="spring-spinner-part top">\n\t\t\t<div class="spring-spinner-rotator"></div>\n\t\t\t</div>\n\t\t\t<div class="spring-spinner-part bottom">\n\t\t\t<div class="spring-spinner-rotator"></div>\n\t\t\t</div>';var h=document.querySelector("li.share-facebook"),A=window.getComputedStyle(h),f=document.createElement("span");l("article sharing: share icon color: ",A.backgroundColor),"rgba(0, 0, 0, 0)"===A.backgroundColor&&d.classList.add("spring-spinner-invert"),c.append(d),f.id="share-icon-position".concat(r),f.className="article-share-icon";var p=document.createElement("span");p.className="sharing-screen-reader-text",p.innerHTML="Click to share a free article with a friend",s.append(p),t.appendChild(s),c.append(f),n=x(r);var E=document.createElement("div");E.id="share-box-position".concat(r),E.className="article-share-box share-box-position".concat(r);var N,S="GIFT THIS ARTICLE",I='You have <span class="article-share-count">'.concat("10","</span> gift articles remaining this month");l(N=o),l("article sharing article title: ",N);var g=document.location.host;!1===e?(E.classList.add("no-share"),I='Subscibers get <span class="article-share-count">'.concat("10","</span> gift articles each month"),E.innerHTML='\n\t\t\t\t\t<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg" id=\'article-share-close'.concat(r,'\' class="article-share-close">\n\t\t\t\t\t<circle class="close-circle" cx="20" cy="20" r="17.5" fill="#9d9a98" stroke="#00000026"/>\n\t\t\t\t\t<path d="M16.5355 16.4645L20.0711 20M20.0711 20L23.6066 23.5355M20.0711 20L23.6066 16.4645M20.0711 20L16.5355 23.5355" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<h6 id=\'article-share-title\'>').concat(S,"</h6>\n\t\t\t\t\t<h6 id='article-share-copy-title'>What is article sharing?</h6>\n\t\t\t\t\t<p>Subscribers are entitled to 10 gift sharing articles each month. These can be shared with friends and family who are not subscribers.</p>\n\t\t\t\t\t<span id='article-share-line'></span>\n\t\t\t\t\t<p id='article-share-subscribe-link'> <a href=\"https://checkout.").concat(g.replace("www.",""),'" target="_blank" style="text-decoration: underline">Subscribe now!</a> or <a href="https://').concat(g,'/login" style="text-decoration: underline">log in</a> to your account.</p>\n\t\t\t\t\t<button style="display:none" disabled aria-disabled="true" id=\'article-share-copy-btn').concat(r,'\' class="article-share-copy-btn" >Share Button Disabled</button>\n\t\t\t\t\t<div class="article-login-buttons-container">\n\t\t\t\t\t<a href="https://checkout.').concat(g.replace("www.",""),'" target="_blank" class="article-user-button">Subscribe</a>\n\t\t\t\t\t<a href="https://').concat(g,'/login" class="article-user-button">Log in</a>\n\t\t\t\t\t</div>\n\t\t\t\t')):E.innerHTML='\n\t\t\t\t\t<svg tabindex="0" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg" id=\'article-share-close'.concat(r,'\' class="article-share-close">\n\t\t\t\t\t<circle class="close-circle" cx="20" cy="20" r="17.5" fill="#9d9a98" stroke="#00000026"/>\n\t\t\t\t\t<path d="M16.5355 16.4645L20.0711 20M20.0711 20L23.6066 23.5355M20.0711 20L23.6066 16.4645M20.0711 20L16.5355 23.5355" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t</svg>\n\t\t\t\t\t<h6 id=\'article-share-title\'>').concat(S,"</h6>\n\t\t\t\t\t<div id='article-share-remaining-text'>").concat(I,"</div>\n\t\t\t\t\t<p id='article-share-article-title'>").concat(N,"</p>\n\t\t\t\t\t<span id='article-share-line'></span>\n\t\t\t\t\t<h6 id='article-share-copy-title'>Copy the link</h6>\n\t\t\t\t\t<button id='article-share-copy-btn").concat(r,"' class=\"article-share-copy-btn\">\n\t\t\t\t\t\t<p id='article-share-copy-link-text").concat(r,"'>\n\t\t\t\t\t\t").concat(a,"\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<div id='articleCopyLinkSpinner").concat(r,"' style='display:none;' class='spring-spinner articleCopyLinkSpinner copy-link-spinner-revert'>\n\t\t\t\t\t\t\t<div class='spring-spinner-part top spinner-top").concat(r," spring-spinner-pad'>\n\t\t\t\t\t\t\t\t<div class='spring-spinner-rotator spring-spinner-invert'></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div class='spring-spinner-part bottom spinner-bottom").concat(r,' spring-spinner-pad\'>\n\t\t\t\t\t\t\t\t<div class=\'spring-spinner-rotator spring-spinner-invert\'></div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</button>\n\t\t\t\t\t<div class="cancel-button-container">\n\t\t\t\t\t\t<button class="cancel-button" id="cancel-button').concat(r,'">\n\t\t\t\t\t\t\t\t<span id="cancel-button-label').concat(r,'">Cancel<span> \n\t\t\t\t\t\t\t\t<svg style="vertical-align: bottom;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n\t\t\t\t\t\t\t\t<path d="M6.75736 6.75736L11 11M11 11L15.2426 15.2426M11 11L15.2426 6.75736M11 11L6.75736 15.2426" stroke="black" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t'),t.appendChild(E);var O=document.getElementById("article-share-position".concat(r));O.addEventListener("click",(function(){i(r,"open")})),O.addEventListener("keydown",(function(t){"q"===t.key&&i(r,"open")}));var R=document.getElementById("article-share-close".concat(r));u(r,R);var T=document.getElementById("cancel-button".concat(r));return u(r,T),document.getElementById("article-share-copy-btn".concat(r)).addEventListener("click",(function(){F(r)})),"done"}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=[document.querySelector(M)].concat(r(document.querySelectorAll(v))),l("article sharing: target elements are ",h),h.filter((function(t){return null!==t})).length!==h.length){t.next=17;break}return t.next=17,d(h);case 17:if(l("Article Sharing: appending sticky nav too"),!e){t.next=25;break}return t.next=21,H();case 21:(A=document.querySelectorAll("#article-share-dropdown-article-page"))&&A.forEach((function(t){t.addEventListener("click",(function(){i(0,"open")}))})),(f=document.querySelector(".border-container #push-account-content #article-share-dropdown-article-page"))&&f.addEventListener("click",(function(){document.getElementById("digisubs-toggle").click()}));case 25:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(){var t=o(c().mark((function t(e){var n,r,i,a;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D(e);case 2:return n=t.sent,t.next=5,R("URL");case 5:if(r=t.sent,l("Article sharing: check article endpoint response: successful: ",n),n.sharedCode&&"null"!==n.sharedCode&&void 0!==n.sharedCode){t.next=11;break}B("Network error, try again",e),t.next=18;break;case 11:return B("COPIED!",e),i="".concat(r,"?share=").concat(n.sharedCode),navigator.clipboard.writeText(i).then((function(){l("Article sharing: URL copied!")})),(a=document.getElementById("cancel-button-label".concat(e)))&&(a.childNodes[0].nodeValue="Close"),t.next=18,U(e);case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),K=function(){var t=o(c().mark((function t(){var e,n,r,i,a,s,d,h;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.MNGAuthentication=window.MNGAuthentication||{},window.MNGAuthentication.articleShareConvo=!1,window.MNGAuthentication.articleShare="",l("article sharing: code check: checking free article code"),e=window.location.search,n=new URLSearchParams(e),t.next=8,R("Content ID");case 8:if(r=t.sent,i=S(),l("article sharing: code check: url params array ",n.getAll("share")),0!==n.getAll("share").length){t.next=14;break}return l("No share search param"),t.abrupt("return",!1);case 14:return window.MNGAuthentication.articleShareConvo=!0,a=n.getAll("share"),w("articleshare-readingshare"),l("Article sharing: code check: check share code: ",a),s=u.entitlementsApiKey,d="".concat(u.entitlementsEndpoint,"articleSharing/checkArticleSharedLink"),h={articleName:r,publication:i,code:a[0]},t.abrupt("return",$.ajax({type:"POST",url:d,headers:{"X-Api-Key":s},data:JSON.stringify(h),success:function(t){if(l("Article sharing: code check: looking for valid share code: ",t),"nocodefound"===t)l("Article sharing: code check: code does not exist"),w("articleshare-readshare-codenotfound"),window.MNGAuthentication.articleShare="codenotfound";else{l("Article sharing: code check: time api timestamp response: ",t.sharedTimestamp);var e=new Date(t.sharedTimestamp),n=(e=e.setDate(e.getDate()+30))/1e3;l("Article sharing: code check: time api timestamp response expiration date ",n);var r=new Date;r=Math.floor(r.getTime()/1e3),l("Article sharing: code check: current unix time is, ",r),n<r?(l("Article sharing: code check: code expired"),w("articleshare-readshare-expired"),window.MNGAuthentication.articleShare="expired"):t.sharedCode&&"null"!==t.sharedCode&&void 0!==t.sharedCode?(l("Article sharing: code check: code valid, not expired"),w("articleshare-readshare-verified"),window.MNGAuthentication.articleShare="sharing",m()):(l("Article sharing: code check: network error"),window.MNGAuthentication.articleShare="networkerror")}},error:function(){var t=o(c().mark((function t(e,n,r){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l("Article sharing: code check: network error: ",r),window.MNGAuthentication.articleShare="networkerror",t.abrupt("return",new Error("Article sharing: check article code failed"));case 3:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}));case 22:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Y=function(){var t=o(c().mark((function t(){var e,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.addEventListener("scroll",(function(){var t=r(document.querySelectorAll(".share-box-position1, .share-box-position2"));t.length>0&&t.forEach((function(t){if(t&&t.classList.contains("show-article-sharing")){var e=window.scrollY,n=document.getElementById("sharing-bottom"),r=document.getElementById("sharing-top");if(n&&t.classList.contains("share-box-position2"))e/n.offsetTop*100>=93?X(t):t.classList.contains("article-share-fixed")||t.classList.add("article-share-fixed");if(r&&t.classList.contains("share-box-position1"))window.scrollY/(document.documentElement.scrollHeight-window.innerHeight)*100>=11.5?X(t):t.classList.contains("article-share-fixed")||t.classList.add("article-share-fixed")}}))})),t.next=3,L();case 3:if(e=t.sent,!0!==e.isAuthenticated||"undefined"==typeof MNGAuthentication||"function"!=typeof MNGAuthentication.isUserSubscriber||!MNGAuthentication.isUserSubscriber()){t.next=20;break}return l("article sharing: subscriber, show sharing tool"),t.next=9,T();case 9:if(n=t.sent,l("article sharing: page type is ",n),"article"!==n){t.next=16;break}return t.next=14,k(!0);case 14:t.next=18;break;case 16:return t.next=18,H();case 18:t.next=25;break;case 20:return l("article sharing: not a logged in or a subscriber, show marketing message and check for share code"),t.next=23,K();case 23:return t.next=25,k(!1);case 25:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Y()})()})();
//# sourceMappingURL=mng-digisubs.articleShare.bundle.js.map;
